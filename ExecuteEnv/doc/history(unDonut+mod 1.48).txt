unDonut+mod更新履歴

2009-03-16 +mod.1.48 
・UserAgentの設定をデフォルトではIEのままにし、Donutオプション⇒ブラウザ⇒ 
　UserAgent…のチェックボックスにチェックを入れた場合のみ、設定欄を反映する 
　ように変更. (ので、必要な方はチェックを入れてやってください) 

2009-03-03	+mod.1.47c
・お気に入りグループをセーブするときのフォルダがundonut.exeのあるフォルダの
　favoritegroup\ になっていなかったのを修正.
・v1.47でエンバグしてdefault.bak.dfgの生成がunDonut.exeのフォルダでなく誤って
　カレントディレクトリに生成するようになってしまってたのを修正.
・単語ボタン無しの検索で検索文字列窓の文字列がかってに選択されてしまう件を
　とりあえず無理やり選択解除することでマシにしてみたつもり。

2009-03-02	+mod.1.47b
・"ウィンドウのオプションを継承する"場合でも、ナビゲートロックは継承しない
　ようにした（代わりにDonutオプション-ブラウザのナビゲートロックの設定を使用）

2009-03-01	+mod.1.47
・画像ページを表示した後、画像以外のページをその窓(タブ)で表示しても
　左クリックでのリサイズが機能してしまっていた件を修正.
・.jpg,.png等の文字列がurlの途中にあらわれても画像ページとして
　扱ってしまっていたのをurl末のみに修正.
・ページを平面的に表示をする、において、osがxp以降の場合は、
　theme適応だけにしフラットスクロールバーにしないようにした.
・拡張プロパティで、"ページを平面的に表示する"を設定できるようにした.
　※既存の拡張プロパティ設定があるとoffになっているので注意.
　※urlentry.iniの中身変更

2009-01-16	+mod.1.46
・クリップボード監視をonにしても、クリップボードバーを開くまで機能しなかった
　件を修正.
・donutオプション⇒新規作成の値が不定でチェックがつかない場合があったのを修正.
　(CTRL-Nや'新規'(アイコン)を選んでも機能しない場合があった)
・指定のスキンにtoolbar.iniがなかったとき、toolbar/やexeのあるフォルダに
  toolbar.iniを生成してしまっていたのをスキンのフォルダに生成するように修正.
  (指定のスキンのフォルダが無い場合は、toolbar/かexeのフォルダに生成)
・ヘルプファイル名としてunDonut+mod.chmを対象に加えた.
・64unDonutのみ:内蔵の(デフォルト)ツールバーアイコンのいくつかをIE7風に変更.
・TmpFavGroup.dll:.dfg名の変更後、そのdfgの中のリンクを開けなかったのを修正.
・TmpFavGroup.dll:.dfgへの全タブ追加を用意.

2008-12-25	+mod.1.45
・ハイライト用の色指定での#抜け追加(thx.835)
・GDIオブジェクトがリークしている件を改善(一寸?リーク量をへらせた)
・ページを開いたときに未使用メモリをosに返す処理をいれていたのを、
　しないように変更.

2008-12-13	+mod.1.44
・ドッキングバープラグインを無理やりエクスプローラバープラグインとして
　利用できるようにしてみた。(無理やりなので不具合あってもしかたないとして）

2008-12-09	+mod.1.43
・ウィンドウサムネイルで右クリックメニュー＆キー操作追加
　(カーソル移動は暫定 タブ的な扱い. enter開ける,Delete閉じる)
・1.42でリンクのあるテキストを選択して右クリックメニューを出したとき、
　コピーできなくなったのを修正(また[ETC]IeMenuCutPaste=1でこのコピーも対象に)
・表示メニュー→ツールバー→検索バーボタン をoffにしても、何か検索すると
　すぐonになってしまう件を修正(1.41?付近でエンバグ)

2008-12-07	+mod.1.42
・テキスト選択およびリンクでの右クリックメニューでカット＆ペーストを
　効かないようにした。(テキスト選択時に関しては復活可能＞NoGui.txt)
・本家unDonutで実装＆破棄されていたウィンドウサムネイル機能を復活してみた
　(窓サイズのみ微調整)。
　メニューなりキーなりに設定しないと使えません。（特殊→サムネイル表示）
・1.38にて誤ってアドレスバー等の入力で260文字制限をつけてしまっていたのを
  4000字で暫定対処.

2008-11-21	+mod.1.41
・フレームなページをハイライト表示すると、表示がなくなってしまう件を
　なるべくおきないようにしてみた。
　（1.34でのｶﾞｸｶﾞｸﾌﾞﾙﾌﾞﾙ検索ハイライトでの無限ループ回避判定をミスり
　　常時ie6(w2k?)findtextハング対策処理になっていた）

2008-11-16	+mod.1.40
・編集メニューの、コピー、カット、ペースト、全選択、が機能しなくなっていた
　件の対処.
・画像ファイルの自動リサイズ関係を、donutオプション→全般2で設定するようにし、
　IE側の設定(レジストリ)は参照しないようにした。
  (※自動リサイズon/offがunicode化のおり文字列チェック・ミスで誤判定してました)
・メニュー表示で、ショートカットキー情報の取得に失敗することがあるらしく、
　その場合ゴミ文字列が表示されていたのを、少しマシにした(つもり).
　(メニューは表示なし、オプションのキーボード設定では取得できなかった表示）
・64ビットunicode版では、〜.exe.manifest を内蔵するようにした。

2008-11-02	+mod.1.39
・選択部分のソース、でエディタにテキストを渡すとき、sjis(ms932)な範囲の文字
　だけならばsjisにして、他のunicode文字が混ざっていれば utf8 にしてエディタ
　に渡すようにしてみた(暫定)
・お気に入りメニューをユーザー定義フォルダにしている場合に、お気に入りの追加
　をすると文字列が長すぎる、とエラーが出てしまう件を回避(ただしunicode非対応)
・vista(64)でieのバージョン情報表示が出ない場合があった件を修正.
・32ビット版の場合、unicode版でも〜.exe.manifestがexeと同じフォルダにあると
　おかしくなる(donutオプション・キーでショートカット関係の表示不具合が出る)
　環境があるらしいので、配布物では元のdoc/下へ移動。

2008-10-22	+mod.1.38
・未使用メモリーをosへ返す機会を増やした(DonutRAPTよりルーチンコピペ)
・manifestファイルをexeに埋め込まないようにした.
  ※unicode版では 〜.exe と一緒に〜.exe.manifestを置いたほうがよさそう?です。
    64undonutではmanifestファイルがないと、Donutオプション,アドレスバー等で
    ツールチップが表示されないというバグがあります。
・[tmpfavgroup.dll の修正]アクティブなページを グループに追加すると
  (再起動するまで)新規に追加した名前をクリックしてもページを開けなかった
  件を修正.

2008-09-09	+mod.1.37
・URL別セキュリティを有効にする、の設定がポップアップ抑止を有効にする、と共用
　になってしまっていたのを修正.
・URL別セキュリティで、正規表現onで1文字目にいきなり*がある場合、
　どの頁も開けなくなってたのを回避 ('*'は直前の文字の0文字以上のマッチ、
　なので、先頭にあるときの動作は不定)
・複数起動しない設定でunDonutがすでに起動している状態のとき、
　すでに起動しているundonutの設定が"お気に入りやファイルを開くとき、
　アクティブにしない"がoffの場合でも、新たに起動したときに引数として
　-trayがあれば、アクティブにしないでurlを渡すように修正.
・UNICODE化において、ユーザー定義のお気に入りフォルダの設定に不具合があった
　のを修正。
・お気に入りの追加・整理がIE8β2だと機能しないのでエクスプローラ利用や旧処理で
　暫定代用 (仕様変更なのかβゆえのバグなのかよくわからないけど)
・単語ボタンの表示で、文字列中に&があったとき、アクセラレータキー表示に化けて
　しまっていたのを修正.

2008-08-28	+mod.1.36
・URL別セキュリティで設定したurlがリンクに対して無効だったのを有効に.
・ナビゲートロックした頁は閉じない、にした状態で、ロックされた頁を閉じた場合、
　頁は閉じないが頁内のリンクが開けなくなる、という件を修正
・お気に入りメニュー(等)での横幅文字数の判定を似非半角文字数換算に変更.
・拡張プロパティでのチェックボックスを3段階にして、デフォルト設定を反映可能に.

2008-08-26	+mod.1.35
・拡張プロパティ設定でURLを編集できるようにした([URL]クリックでon/off)
・url別にセキュリティ(拡張プロパティ)設定をできるようにしてみた。
　まだ、こまごま不具合あり＆暫定仕様。人柱用。

2008-08-11	+mod.1.34c
・UNICODE化でお気に入りメニューの項目の移動でハングするようになっていたのを修正
・UNICODE化でSKINオプションでの説明が表示されなくなっていたのを修正。

2008-08-11	+mod.1.34b
 （コンパイルオプションを変えただけのバージョン）

2008-08-09	+mod.1.34
・UNICODE化でおかしくなった、about:外部ファイル表示、パスのフルパス化
　(アドレスバーアイコンのIE以外の起動 等) の不具合を修正.
・about:外部ファイルは現在頁に表示すると失敗するようなので
　必ず新規窓で表示するようにした.
・"ｶﾞｸｶﾞｸﾌﾞﾙﾌﾞﾙ"等特定の語を検索してハイライト表示すると内部で
　無限ループに陥る件を対処。
・.iniや.dfgに保存するページ・タイトル等の文字列もunicode対応。
　（基本sjisのまま、sjis にできないunicode文字や%HH (H=0-9a-z)が
　　混じっている場合、utf8文字列を%HHを用いた表記に変換）
　※既存の.iniや.dfg中の頁タイトル等で%HHが含まれている場合、誤変換する
　　（が、めったにないと思われる）

2008-08-07	+mod.1.33c
・UNICODE化でおかしくなった、urlのドラッグドロップ、お気に入りの整理、
　クリップボードバー(微妙)、の修正.
・画像表示の自動リサイズの初回100%化が、非アクティブ表示の時は初回からリサイズ
　されてしまう件の修正。
・unDonut.ini に[ETC] ImageAutoSize_FirstOn=1 を追記することで
　画像表示の自動リサイズで初回からリサイズできるようにした.

2008-08-05	+mod.1.33b
・UNICODE化でおかしくなった、クリップボード関係、user agent関係、Proxy関係
　の修正.

2008-08-03	+mod.1.33
・内部処理をUNICODE文字セットベースに切り替えた.(なので人柱度高)
・閉るボタンをトレイ化ボタンとして選べるようにした.
・画像表示のオートリサイズ機能を、初っ端は100%表示とした.
・default.dfgのバックアップファイル名を….dfg.bakから….bak.dfgに変更.
・アドレスバーのエディット領域にマウスポインタを置いたとき、ツールチップで
　%??を日本語化したurlを表示するようにした(文字コード判定が確実ではないので
　誤表示する場合があります) (※64ビット版ではバグって機能していない状態)

2008-07-05	+mod.1.32
・-trayで起動時タイトルバーにステータスバー文字列が着いてしまっていた件の修正.
・ステータスバーのoff→on時に、タイトルバーに出していたステータスバー文字列が
　残ってしまっていたのを修正.
・DonutRAPTを真似てヘルプメニューでexeのあるフォルダを開けられるに修正.
・donutオプション設定のキーに追加してた"閉じボタンでトレイ化"を全般2へ移動.
・F2,F3でのタブ移動キーを廃止し、F3にページ↓検索を割り当てた.
・ie7に似せデフォルトのキーに'+'=10%拡大,'-'=10%縮小,'0'=100%,'1'〜'9'=タブ選択
　CTRL+SHIFT+'Q'=タブ一覧、を設定.
・検索バーのハイライトボタンがon状態でページやリンクを開けた場合、
　on状態継続するようにしてみた(不完全、不具合あり、bugs.txt参照)
・お気に入りメニューでのドラッグ＆ドロップ移動でフォルダ間の移動をとりあえず
　可能にしてみた(不完全、不具合あり、bugs.txt参照).
・お気に入りバー(エクスプローラバー内)で、お気に入り(url)の位置をとりあえず
　移動できるようにしてみた(不完全、不具合あり、bugs.txt参照).
　※donutオプション側でドラッグ＆ドロップ移動を許可している場合のみです。
　※お気に入りの移動を試される方は、特に人柱覚悟でお願いします。

2008-06-28	+mod.1.31
・範囲選択の検索がフレームのあるページに対応していなかった件を修正.
・テキストを開く、で:/.\を含まない文字列の場合、文字列検索を行うようにしてみた.
・起動時のコマンドライン引数で-trayが指定されていたら、窓生成直後にトレイへ
　入るようにしてみた。

2008-06-23	+mod.1.30
・フルスクリーンにして通常サイズに戻すと、タイトルバーにステータスバーに表示
　される文字が余分についてしまうのを対処。
・このタブより左/右のタブを閉じる、場合の確認ダイアログを設定できるようにした.
・about:????を使うと(win64で)ハングする場合があったのを修正.
  (about:saitamaの時からのメモリ2重開放が原因...だが、win32ではハング
   しなかった模様.)

2008-06-18	+mod.1.29b
・IEで画像の自動リサイズ設定してるのにりサイズしない場合があるのを修正.
・画像の自動リサイズの時、スクロールバーが効かず⇔100%が行われてしまう件を対処
　(⇔100%クリックはスクロールバーの有無にかかわらずその部分に反応しません)

2008-06-16	+mod.1.29
・リンクを右クリックしたとき、リンクのURLを選択文字列として、"リンクを開く"
　や検索エンジンに渡せるようにした。(ステータスバー文字列を渡しているだけ)
・イメージを自動サイズ変更したページで、左クリックすると100%とトグル切替
　するようにした。また拡大率⇔100%をボタンやメニュー設定できるようにした。
・検索バーのアイコンや単語ボタンの背景がちゃんと再描画されていなかったのを修正.

2008-06-15	+mod.1.28b
・XP Theme(+ .exe.manifest)使用時、検索エンジン名を検索キーワード欄に出す
　設定にしても表示されなかった件を修正。

2008-06-14	+mod.1.28
・r13test1に元からある未使用ルーチンを修正して画像ファイル(jpg,png,gif)の場合、
　IEオプション→詳細設定→自動的にイメージのサイズを変更する
　を反映するようにしてみた。
・zoom関係の機能追加(zoom.jsと似たもの. ie7の拡大関係の真似).
　Donutオプション→キーまたはメニューの設定で、"特殊"に10%拡大,10%縮小,
　拡大率100%等を、あとグループ･メニューに拡大メニューを、追加。
・Donutオプション→キーまたはメニュー→"特殊"に1〜8番目のタブ,最後のタブ
　という項目を追加(ie7のショートカットキーCTRL+1〜9に似せたい場合用)
・アクティブページがローカルドライブにある場合、アドレスバーで入力したフルパス
　でない文字列をローカルのフォルダ相対として扱うように変更.
・about:????とアドレスを入力した場合、help/about/???? にファイルがあれば
　それを表示するようにした。
・検索エンジンのメニューを、右クリック(コンテキスト)メニューに登録できるように
　してみた。(Donutオプション→メニュー→グループ･メニュー→検索エンジン)
・buraに真似て、WEB検索ボタンを右クリックした場合に検索エンジン･メニューを
　出すようにした。
・検索エンジン欄の横幅を狭めて閉じた状態にしている場合、検索キーワードが未入力
　なら、入力欄にエンジン名を表示するようにしてみた。(win2kは多少不具有)
・その他細々...

2008-06-07	+mod.1.27
・単語ボタンを表示しない設定時に、単語ボタンの一部が出てしまっていた件を修正.
・CTRL(+SHIFT)+TABでのタブ移動を見えてる順に変更。
　(今までのMDIの順にする場合はDonutオプションのタブのページで設定)
・ドロップされたurl文字列の両端の空白を削除するようにした.
・タスクトレイアイコン状態で右クリックしたとき、メニューを出すようにした.
・最小化ボタンでタスクトレイに入れられるようにした(Donutオプション-キー)

2008-05-26	+mod.1.26
・アドレスバー・サーチバーにフォーカスがある時の文字入力がJAVAスクリプト
　側でスキャンされてしまう件を回避。
　（http://syoboi.jp/tmp/keydown_test/ にある件）

2008-02-29	+mod.1.25
・いくつかのオプションの初期値を変更(undonut.iniがない場合の)
・検索で単語ボタンが出るときは、単独の頁内検索ボタンは表示しないようにした.
・単語ボタン無しかつ最大項目数を指定していない場合、検索バーの履歴が表示
　できなかった件を強制対処.

2008-02-17	+mod.1.24d
・"検索バーのボタン" をoff にした状態で起動して、検索すると
　ハングする場合があるのを修正。

2008-02-17	+mod.1.24c
・1.24bで直せてなかった(Xp?,win2k?)での検索バーの不具合修正。

2008-02-15	+mod.1.24b
・検索バーのキーワード欄の横幅調整がおかしかったのを修正。
・検索バーのコンボボックスの縦幅がおかしくなる場合があったのを修正。
・"単語ボタンを使用しない"場合は、旧来の横幅調整を用いるように変更。

2008-02-14	+mod.1.24
・nogui.txtにあった、リンクバーのアイコン設定とユーザー定義のリンクバー
　フォルダの設定をDonutオプションの項目にした。
・アドレスバーのアイコンクリックでIE以外のブラウザを、Donutオプションで
　設定できるようにした.(64bit版で32bit版ブラウザを呼び出したかったので)
・メニューバーの1文字化メニューをDonutオプションで設定できるようにした。
　（skinで設定された場合はそちらが優先)
　また同様に英語名も選択可能にした。
・検索バーで、とりあえず入力した(複数)単語をボタン化するようにしてみた。
　20語まで。この影響で、キーワード入力欄、エンジン選択欄の幅調整方法を変更。
　（それぞれの右側の隙間をつまんで調整）
　（役目御免でunDonut.ini [SEARCH]のJikkenは破棄）

2008-02-11	+mod.1.23
・スキンに bg.bmp を入れれば bgが表示されるようにした(繰り返しのみ).
・スキンに SearchBarDis.bmpがあれば検索バーのDisabledで使用するようにした.
・skin.ini で bg 色指定ができるようにした。
・skin.iniで1文字メニューバー、タイトルバー(キャプション)無窓の指定をできる
　ようにした.
・その他細々

2008-02-03	+mod.1.22
・タスクトレイ状態の時に関連付け等で起動だれた場合、表示されずにトレイからも
　アイコンが消えて使えなくなってしまう件を修正.
・お気に入りグループバーの"保存...", "追加...", "整理..."ボタンが反応していな
　かった件を修正.

(_pack側の誤記修正)
・readmeの記述でurl間違いと、DonutPがRからの派生と書いてしまっていたのをDonut
  からの派生の間違いだったので修正.
・bugs.txtのレジストリの記述でFEATURE_BLOCK_LMZ_SCRIPTが抜けていたものがある
　ので修正.

2008-01-10	+mod.1.21
・(F9で)タスクトレイに入れ元のサイズに戻すと左上のアイコンがなくなり、さらに
　タスクトレイにいれると何も表示されず(実行中のまま)操作できなくなる件を修正.

2008-01-08	+mod.1.20
・起動時何も表示しない設定で起動し、頁のない状態でアドレスバーの履歴をみると
　ハングしていたのを修正。
・アイコン差し替えで、指し換わらない環境がある件を修正.
  (※aboutのアイコンは差し替えてません)
・skinに (Big|Small)Disable.bmp がなかった場合の不具合修正.
・検索バーのアイコンサイズがおかしくなっていたのを修正.

2008-01-05	+.mod.1.19
・DonutRAPTにマネて、ナビゲートロックされた頁を閉じなくするオプションを追加.
　(Donutオプション→ブラウザ)
・× ページへドロップした時はすべて別タブで開くように修正.
　    (そのような処理がすでにあったがバグってた模様)
　※↑すみません、間違いでした。(一部バグ取りのみ)

2008-01-04	+.mod.1.18b
・前回エンバグして、お気に入り直下がIE順に並ばなくなったのを修正.
・前回の修正で、エクスプローラバーのお気に入り表示時に毎度ツリーを初期化するよ
　うにしたが不便も増えるようなので、なるべくしないよう(非表示時にお気に入りの
　追加等でリフレッシュ要求があったときのみ)に修正.
　※1.18で起動したときのエクスプローラーバーのキャッシュが残っていると、その時
　　の順でしばらく表示されるかもしれません。

2008-01-04	+.mod.1.18
・Skin でアイコンを設定できるようにした。
　大きいアイコンとしてMainFrameBig.ico  ,なければicon.ico,それもなければ内蔵版.
　小さいアイコンとしてMainFrameSmall.ico,なければicon.ico,それもなければ内蔵版.
　※追記:環境によっては、うまく変更されないようです.
・VistaでIE順にしていてもリンクバーの表示順がそうならなかった件を修正.
・レジストリHKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\ToolBar の
　LinksFolderNameに設定されているのが無項なパスの場合は無視するようにした.
・エクスプローラバーを"お気に入り"にして、それを閉じた状態で "お気に入りの追加"
　を行い、そのあとエクスプローラバーの"お気に入り"を表示すると、追加したばかり
　のurlがエクスプローラバーのお気に入りに表示されない、というバグを修正。
・32ビット版と64ビット版を同一フォルダに入れられるようにPluginフォルダ名を変更.
　32ビット版の場合は Plugin32\ がパスにあればそれを、なければPlugin\
　64ビット版の場合は Plugin64\ がパスにあればそれを、なければPlugin\
　(いづれか１つのフォルダが有効. ※同一フォルダに置けるようにしましたが、
　 同時起動は(32,64に限らずですが)多少不具合の可能性ありです(仕様) )
・追記：skinフォルダなく単体起動してもツールバーアイコンが表示されるように
　リソースにbmpを追加. ｍた他も現行のdefaultベースのものに置き換えた.

2008-01-01	+.mod.1.17b
・win2kで起動できるように修正.
・FeatureControl関係はFEATURE_MIME_SNIFFINGのon以外は無しに.

2008-01-01	+.mod.1.17
・about:blankがらみのバグの修正.
・追記:FeatureControl関係もいじってたため win2kだとurlmon.dllがなく起動できなく
　　　 なってました.

2007-12-10	+.mod.1.16
・検索バーで直接入力した(フォーカスが検索バーにある)場合は、範囲指定のテキスト
　よりも入力された文字列が使われるように修正.
・http://donut.blog.shinobi.jp/Entry/4/にてRapt氏が書かれているDonutRAPTの
  メモリーリークは unDonut でも同様に残っていたので修正.
・Donutのオプション→全般2→…配置場所を入れ替える、にしていた場合、ゲージの
　描画が残ってしまうことがあったのを修正。

2007-12-02	+.mod.1.15b
・お気に入り(.url)を新規窓で連続開けするとハングする場合があったのを修正.

2007-12-01	+.mod.1.15
・+mod1.13での修正は不適だった、エクスプローラのお気に入りが何も表示されない
  ことがある件を修正（実際には"エクスプローラバーのキャッシュを作成する"にして
  いた場合 次回起動で必ず発生だった. r13test(10)でも再現のよう)
・+mod1.14の修正が不適だった ページ無しでdonutのオプションを開いた時のカーソル
  初期位置がおかしい件 を改善 (けどまだおかしいことがあるかも?)
・新規窓が開くときabout:blank化する件を強引に対処 (未対応部分あり.また不具合の
  本質は未解決)

2007-11-26	+.mod.1.14b
・+mod.1.13でエンバグして"テキストを開く"で１つしか開かなかったりハングする
　ことがあったのを修正.

2007-11-26	+.mod.1.14
・+mod.1.13でエンバグしてIEのオプション設定を呼び出せなくなってたのを修正.
・+mod.1.13でスタートページの表示中に終了するとエラーになる場合があったのを修正.
・iniファイルの排他制御をした影響でundonutの複数起動がまともにできなくなって
　いたのでとりあえず排他制御を緩めて複数起動ができるように.
・ページ無しでdonutのオプションを開いた時のカーソル初期位置がおかしい件を修正.
  (※2007-11-27 不十分だった模様)
・新規窓が開くときabout:blank化する件で、せめてアドレスバーだけでもなるべく
　about:blankに化けないように強引に回避（本質的には未解決）

2007-11-23	+.mod.1.13
・自動更新時に"進む・戻る情報"も保存するようにしていると特定環境にて特定のWEB頁
　が対象にあるとハングする件、を修正。
・WEB検索時、頁内に範囲指定があれば、その指定された文字列を検索文字列に設定
　して検索するようにした。
・リンクが全くないページでホールクリックしてもオートスクロールにならない
　件を修正.
・拡張プロパティで検索設定されたインターネットショートカットで検索したとき、
　検索バーの履歴に入らなかった件を修正。
・mod.1.12にて特定環境(IE7?vista?)でエクスプローラバーが"お気に入り"になって
　いる状態で起動すると項目がない状態になってしまう(一旦別の頁をあけてからあけ
　直すとok)状態だったのを強引対処.
　(※ 2007-11-25 頻度が減っただけのようでまだたまに発生の模様)
・プログラム内で使うメッセージIDの値を一部変更→その影響で Option.xml 中の番号も
　一部変更.(修正した Option.xmlを別途配布)
・64ビット版のウィンドウクラス名をWTL:DonutからWTL:64unDonutに変更。
　(32ビット版とは別アプリとして扱えるように)
・その他諸々.

2007-11-17	+.mod.1.12
・自動更新関係の不具合改善(まだハングする場合があり):
　・dfgファイル書換最中に他のdfg更新があるとハングしてたのを回避.
　　(自動更新用の排他制御は無くし、かわりに全てのiniファイルのアクセスで
　　 排他制御を入れてみた... 他に影響があるかも?)
　・自動更新で前回の更新が残っていた場合は、前のを強制終了していたが、強制終了
　　自体が問題多そうなので、終わるまで待つ(パス)するように変更。
　※"進む・戻る情報"も保存する場合、特定環境(IE7?マルチコア?)にて特定のWEB頁
　　(おそらくframeが使われている頁)が対象にあるとハングする件は未解決。
・複数起動しない設定で最大化(フルスクリーン)時、頁を外部(アプリ)から開いた場合
　に最大化が解除されてしまう件を修正 (履歴バーから開いた場合もこれに相当)
・donutのオプションで他のボタンを押す前にSHIFT+TABすると、項目移動せずに
　窓のフォーカスが外へ移ってしまう件を強引対処.
・パネルバーで、中クリックした時がまだ不具合状態だったのを修正.
・進む・戻るの履歴保存をエンバグして戻るも進むでセーブしてたのを修正。
・検索バーでCTRL+RETURNして頁内前方検索したときにエラー音が出る件を強引対処.
・ユーザー設定のフォルダ指定で、unDonut.exeのあるフォルダからの相対パス指定
　を記述できるようにした.
・+mod1.5で改造した拡張プロパティの設定で、インターネットショートカットだけ
　でなく検索エンジンの設定でも、FrontURL,BackURL等の設定を行えるようにした。
　検索エンジン設定で "アドレスバーの文字列を使用"にチェックを入れた場合は、
　検索バーが空の時のみアドレスバーよりURLを取得。
　また、これに絡んで.url中の記述を+mod1.5での仕様を変更、[unDonutSearch]を
　やめて通常の拡張プロパティの[unDonut]に一緒に設定するようにした
　（Search.iniでの設定と同様にするため）。
　それと AddressBar= を ExPropOpt= に変更. (今は0,1のみ。後で拡張予定)
　またこの検索設定は拡張プロパティのon/offの影響をうけないことにした.
・64undonut.exeのアイコンを32ビット版とは別のものにした.
・その他諸々.

2007-11-12	+.mod.1.11b
・mod.1.11にてスクリプト/プラグインがiniに書き込むapiを使うとゴミを書き込む
　(キーと値を逆に出力. iniが壊れる)というエンバグをしてしまったのを修正. m(_ _)m
（が、まだスクリプト関係おかしいかも?しれません）

2007-11-10	+.mod.1.11
・ツール→スタイルシート→で、不要になっていた2項を削除.
・マウス中ボタンでリンクをクリックしたときに、自動スクロールの機能が有効に
　なってしまう件を改善.
・Default.dfg自動更新でたまに起こるらしい書込不具合の改善.
　・更新の時にDefault.dfg.bakとして一つ前のモノを残すようにした.
　・(同一フォルダの) undonut.exe を複数立ち上げてた場合の排他制御の修正.
　　(クリティカルセッションでなくMutexに変更. 手抜きでフォルダに関係なく起動
　　 されているunDonut.exe全てに影響するが、実用上は問題ないはず)
　　※ただ複数の実行で１つのDefault.dfgに自動更新するのはあまりよろしくない
　　　状態なので、自動更新する時は複数起動禁止にしてるほうが安全かも.
　・自動更新時、前回の自動更新がすんでいない場合、前回の更新処理を即強制終了
　　していたが、3回目(1分指定の場合3分)までは待つように変更.
・+mod1.3にて頁内検索の改造で、検索バーのカーソル位置にある単語を取得する
　ようにしたが、行末にカーソルがあった時は最後の単語を選択としていたのを
　先頭の単語を選択するように修正.（以前のunDonutに近い動作になるはず）
　(ちなみに空白の場合は右方向にある単語を取得)
・その他諸々.

2007-11-03	+.mod.1.10b
・ニケ氏の報告にあった atlhostex.h のincludeをなんとかしてみた。
  ※スクリプトエラーの時ダイアログを開いていたのがステータス表示になる模様.
  ※ 1.10としてアップしたものは、実はatlhostexがちゃんとincludeされていない
    ものでした。コンパイルしなおしたものを 1.10b とします.

2007-10-28	+.mod.1.9
・オプション→プラグインで、ToolBarタイプのプラグインが、チェックマークを
　つけても反映されていなかった件の修正。
・オプション→全般２→"プログレスバー"と"プロキシの切り替え"の交換と
　領域サイズ指定が機能していなかったのをとりあえず修正。
　(切り替えた時の表示がこれでよいかは?)
　（あと他の全般2のオプション設定もエンバグしてたかも?)
・ニケ氏の情報より、undonut+4の段階で(オプション)ハング調査用の
　チェックルーチンが追加されてたらしく、これが入ってから、
　　"このシステムではこの関数はサポートされてません。"
　　"指定されたリソース名がイメージファイルに見つかりません。"
　というエラーダイアログが出るようになったとのこと、なので、
　そのチェックルーチンを外してみた。
　(エラーコードが返ってきていること自体を放置していいのかは、
　わかんないので後回し）

2007-10-28	+.mod.1.8
・unDonut Part16 スレ 149氏による修正(DialogHook.h,DialogKiller.h)を反映。
  IE7にてActiveXをOFFにしてると「警告ダイアログを自動的に閉じる」を選択
  していても警告ダイアログが自動で閉じない件の修正。

2007-10-27	+.mod.1.7
・mod1.4でささいな書き換えでエンバグして、オプションのマウスジェスチャの
  設定がクリアされてしまっていたのを修正。
・オプション→全般２→ステータスバーの第一領域サイズの設定が反映されない件
  の修正... undonut+1にて、わざと 0に設定している模様。ただなぜそうしたのか
  わかってないので、とりあえずプログラム的に復活してみた...(が違いがあるのか
  よくわかってない)
  ※追記:ぜんぜん駄目だった。1.9にて修正。

2007-10-26	+.mod.1.6
・実は msxml6.dll は非対応だった.オプションのツールチップヘルプ表示に
  msxml?.dllが使われるが、msxm6がある場合、先に 6 があれば 6を使うため、
  msxml3,4があっても 表示が出なくなってしまっていた。
  msxml6を使わないことで対処(msxml3,4のみの対応となります)
・mod1.3での未初期化変数の0クリアによって、
  ページ内での文字列|リンクのドロップ検索
  (オプション→マウス→ページ内ドラッグドロップ→即検索orリンクを開く 設定時)
 が機能しなくなっていたのを暫定対処

2007-10-25	+.mod.1.5
・フルスクリーンで終了した時の次回起動で中途半端な状態に化けていたのを修正。
・オプション等のメニューでのタブキー移動順を修正。
・実験改造: リンクバーでの使用を前提に、インターネットショートカットの
  拡張プロパティとして、検索設定を記述できるようにしてみた。
  インターネットショートカット(.url)が、拡張プロパティon状態のとき、

  [unDonutSearch]
  AddressBar=0 or 1 (0なら検索バー 1ならアドレスバーの文字列が対象)
  Encode= 0〜3
  FrontURL=サーチエンジンのURL前半
  BackURL=サーチエンジンのURL後半
  FrontKeyWord=キーワードの前に付加する文字列
  BackKeyWord=キーワードの後に付加する文字列.
  ※ AddressBar以外は Search.ini の記述と一緒なので、そちらを参考のこと。
     FrontKeyWord,BackKeyWordは nogui.txt に説明あり。

  のような記述があれば、検索バーに文字列(AdressBar=1ならURL)が設定
  されていると、本来のURLの代わりに検索用のURLを使う。

　※ 一応、拡張プロパティのメニューで設定できますが、Search.iniから
　  .urlへこぴぺしたほうが楽かも。

　また、リンクバーに上記の検索拡張されたショートカットがある場合は、
　文字列をドロップ(検索)できるようにしてみた。

・その他こまごま書換。



2007-10-16	+.mod.1.4
・オプションのプロキシ設定が毎度初期化されてしまう件の修正。

2007-10-14	+.mod.1.3
・ハングの軽減...?してたらいいな...未初期化変数対処。
  ためしに new, malloc で、必ず領域を 0クリアするようにしたところ、
  何箇所かで NULLアクセスエラーを検出... つまり、当たり所が悪いとハング
  等してたかも。
  とりあえず、そのルーチンのまま、NULLアクセス回避するようにして対処。
  ※逆に、たいてい0以外でほぼ正常に動いていた機能が、確実に動かなくなる
  　バグになることも...というかそっちのほうが多い？
・undonutのオプション→マウス→"＜＜"ボタンを押した時機能してなかった?件を修正。
・Web頁表示無しでクリップボードを表示して、F4でオプションを出そうとすると
  (他のボタンもだけど）何も反応しなかった件を修正。
・+でのIE6(WIN2K?)の検索でfindText関係の不具合対策が、どうも Vista64,Xp64で
　ページ内検索をすると２つ目以降に移動しない、というバグの原因になっていた
　ようなので、とりあえず、Xp 以降の場合はこの処理をしないようにしてみた
　（他のXpで駄目だったら駄目のときで)
・実験：ページ内検索の時、可能なら検索文字列のエディットボックス内のカーソル
　位置の単語を検索するようにしてみた。(通常は先頭の単語). (ただ Xpビジュアル
　スタイルでの不具合対策は微妙なので、全角文字等をさがすときは、あらぬ単語を
　検索する可能性あり....)


2007-10-08	+.mod.1.2
・msxml4(x64では6)必須だったのを, msxml3,4,6 の何れかがあればそれを
　使うように修正。
・レジストリにあるリンクバーのフォルダ名情報に'""'が入っていた場合の対処.
・ソースレベルで細々変更?
  ※ソースはちと中途半端な状態なので、後で別配布します...
・CChildFrmの窓属性設定の処理で、属性を一つoffしそこねる部分があったのを修正。

※追記:mod.1.2のバイナリは、ちと不安定な環境(vc7+v8のpsdkヘッダ)で
  コンパイルしたものだったので1.1よりまずくなってた可能性あり。


2007-08-30	+.mod.1.1
・リンクをマウスの中ボタンクリックで開いたとき、同じものが２頁開いて
  しまう件をとりあえず１つだけ開くように変更(したつもり)。
  (ただ、中ボタンクリックの状態によっては、本来の中ボタンクリック
   の機能が効いてしまいイマイチよろしくないかも)
・ソースレベルで細々変更。

2007-08-26	+.mod.1
・x64コンパイルができたので、アップロード。
・vistaで リンクバー が壊れることがある件の対処(リンク\ → links\)

